(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{22:function(e,t,a){e.exports=a(67)},27:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),o=a.n(r),i=a(3),l=a(4),s=a(6),d=a(5),h=a(7),u=a(8),m=a(21),p=function(e){var t=e.getSearchValue,a=e.search,n=e.handleSubmit;return c.a.createElement("div",null,c.a.createElement("header",{className:"Searchbar"},c.a.createElement("form",{onSubmit:n,className:"SearchForm"},c.a.createElement("button",{type:"submit",className:"SearchForm-button "},c.a.createElement("span",{className:"SearchForm-button-label"},"Search")),c.a.createElement("input",{onChange:t,className:"SearchFormInput",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:a}))))},g=(a(27),function(e){var t=e.src,a=e.id,n=e.openModal;return c.a.createElement("li",{className:"ImageGalleryItem"},c.a.createElement("img",{onClick:n,src:t,id:a,alt:"der",className:"ImageGalleryItemImage"}))}),b=function(e){var t=e.id,a=e.object,n=e.handleKeyPress,r=e.handleBackdropClick;return window.addEventListener("keyup",n),c.a.createElement("div",{className:"Overlay",onClick:r,id:t},c.a.createElement("div",{className:"Modal"},c.a.createElement("img",{src:a.webformatURL,alt:"sfcw"})))},f=function(e){var t=e.images,a=e.openModal,n=e.isModalOpen,r=e.id,o=e.object,i=e.handleKeyPress,l=e.handleBackdropClick;return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(b,{id:r,object:o,handleKeyPress:i,handleBackdropClick:l}),c.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return c.a.createElement(g,{key:e.id,src:e.webformatURL,id:e.id,openModal:a})}))))},E=function(e){var t=e.handleLoad;return c.a.createElement("button",{className:"Button",onClick:t},"Load more")},y=a(19),v=a.n(y),k=a(20),S=a.n(k),j="14452774-766286a273532ef73a45b39e7",O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={dataApi:[],isModalOpen:!1,id:null,object:{},search:"",page:1,isLoading:!1},a.openModal=function(e){console.log("e.target.id",e.target.id);var t=a.state.dataApi.filter((function(t){return t.id==e.target.id})),n=Object(m.a)(t,1)[0];a.setState({isModalOpen:!0,id:e.target.id,object:n})},a.getSearchValue=function(e){a.setState({search:e.target.value})},a.getData=function(){a.setState({isLoading:!0}),S.a.get("https://pixabay.com/api/?q=".concat(a.state.search,"&page=").concat(a.state.page,"&key=").concat(j,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){a.setState((function(t){return{page:t.page+1,dataApi:[].concat(Object(u.a)(t.dataApi),Object(u.a)(e.data.hits))}}))})).finally((function(){return a.setState({isLoading:!1})}))},a.handleSubmit=function(e){e.preventDefault(),a.getData()},a.handleLoad=function(e){a.getData()},a.close=function(){a.setState({isModalOpen:!1})},a.handleKeyPress=function(e){"Escape"===e.code&&a.close()},a.handleBackdropClick=function(e){Number(e.target.id)===Number(a.state.object.id)&&a.close()},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.search===this.state.search&&t.page===this.state.page||t.search!==this.state.search&&this.setState({dataApi:[],page:1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){console.log("this.state.dataApi",this.state.dataApi);var e=this.state.isLoading;return c.a.createElement("div",{className:"App"},c.a.createElement(p,{search:this.state.search,getSearchValue:this.getSearchValue,handleSubmit:this.handleSubmit}),c.a.createElement(f,{handleKeyPress:this.handleKeyPress,handleBackdropClick:this.handleBackdropClick,object:this.state.object,images:this.state.dataApi,openModal:this.openModal,isModalOpen:this.state.isModalOpen,id:this.state.id}),e&&c.a.createElement(v.a,{type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3}),c.a.createElement(E,{handleLoad:this.handleLoad}))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(O,null))}}]),t}(n.Component);o.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.ade0fa71.chunk.js.map