{"version":3,"sources":["component/pages/HomePage.js","services/services.js","component/App.js","index.js"],"names":["HomePage","state","this","props","movies","map","item","key","id","onClick","getDetails","to","original_title","Component","keyApi","getData","axios","get","then","data","results","console","log","getCasts","cast","getReviews","getMovieDetails","searchFilms","query","Error","MovieDetailsPage","lazy","MoviesPage","App","currentMovie","reviews","currentMovieId","inputValue","searchResult","getMovies","services","setState","getMovieCast","a","async","getMovieReviews","e","target","persist","handleSubmit","preventDefault","handleChange","value","fallback","type","color","height","width","timeout","path","exact","render","getMovieById","ReactDOM","component","document","getElementById"],"mappings":"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","file":"static/js/main.129a10a5.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport { Link, withRouter } from \"react-router-dom\";\n\nclass HomePage extends Component {\n  state = {};\n\n  render() {\n    return (\n      <>\n        <ul>\n          {this.props.movies.map(item => (\n            <li key={item.id}>\n              <Link\n                id={item.id}\n                onClick={this.props.getDetails}\n                to={`/movies/${item.id}`}\n              >\n                {item.original_title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\nexport default HomePage;\n","import axios from \"axios\";\n\nconst keyApi = `7dbf79a7ec9fee0ed11175b6a2c600f3`;\nexport default {\n  async getData() {\n    try {\n      const data = await axios\n        .get(\n          `https://api.themoviedb.org/3/trending/movie/day?api_key=${keyApi}`\n        )\n        .then(data => data.data.results);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  async getCasts(id) {\n    try {\n      const data = await axios\n        .get(\n          `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${keyApi}&language=en-US`\n        )\n        .then(data => data.data.cast);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  async getReviews(id) {\n    try {\n      const data = await axios\n        .get(\n          `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${keyApi}&language=en-US&page=1`\n        )\n        .then(data => data.data.results);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getMovieDetails(id) {\n    try {\n      const data = await axios\n        .get(\n          `https://api.themoviedb.org/3/movie/${id}?api_key=${keyApi}&language=en-US`\n        )\n        .then(data => data.data);\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  async searchFilms(query) {\n    try {\n      const data = await axios\n        .get(\n          `https://api.themoviedb.org/3/search/movie?api_key=${keyApi}&language=en-US&query=${query}&page=1&include_adult=false`\n        )\n        .then(data => data.data.results);\n      return data;\n    } catch (error) {\n      console.log(error);\n      throw new Error(error);\n    }\n  }\n};\n\n// ___\n// export default {\n//   async getBestOfTheDay() {\n//     try {\n//       const data = await axios.get(`/trending/movie/day?api_key=${key}`);\n//       return data;\n//     } catch (error) {\n//       console.log(error);\n//       throw new Error(error);\n//     }\n//   },\n//   async searchData(query) {\n//     try {\n//       const data = await axios.get(\n//         `/search/movie?api_key=${key}&language=en-US&query=${query}&page=1&include_adult=false`\n//       );\n//       return data;\n//     } catch (error) {\n//       console.log(error);\n//       throw new Error(error);\n//     }\n//   },\n//   async getDetailsById(id) {\n//     try {\n//       const data = await axios.get(\n//         `/movie/${id}?api_key=${key}&language=en-US`\n//       );\n//       return data;\n//     } catch (error) {\n//       console.log(error);\n//       throw new Error(error);\n//     }\n//   },\n//   async getActorsById(id) {\n//     try {\n//       const data = await axios.get(`/movie/${id}/credits?api_key=${key}`);\n//       return data;\n//     } catch (error) {\n//       console.log(error);\n//       throw new Error(error);\n//     }\n//   },\n//   async getReviewsById(id) {\n//     try {\n//       const data = await axios.get(\n//         `/movie/${id}/reviews?api_key=${key}&language=en-US&page=1`\n//       );\n//       return data;\n//     } catch (error) {\n//       console.log(error);\n//       throw new Error(error);\n//     }\n//   }\n// };\n","import React, { Component, Suspense, lazy } from \"react\";\nimport { Route, Redirect, Switch, Link } from \"react-router-dom\";\nimport HomePage from \"./pages/HomePage\";\nimport services from \"../services/services\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst MovieDetailsPage = lazy(() =>\n  import(\"./MovieDetailsPage/MovieDetailsPage\")\n);\nconst MoviesPage = lazy(() => import(\"./pages/MoviesPage\"));\n\nexport default class App extends Component {\n  state = {\n    movies: [],\n    currentMovie: {},\n    cast: [],\n    reviews: [],\n    currentMovieId: null,\n    inputValue: \"\",\n    searchResult: []\n  };\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies = () => {\n    services.getData().then(data => {\n      console.log(\"data\", data);\n      this.setState({ movies: data });\n    });\n  };\n\n  getMovieCast = async () => {\n    const cast = await services.getCasts(this.state.currentMovieId);\n\n    this.setState({\n      cast\n    });\n  };\n  getMovieReviews = async () => {\n    const reviews = await services.getReviews(this.state.currentMovieId);\n    this.setState({\n      reviews\n    });\n  };\n\n  getDetails = async e => {\n    console.log(\"e.target.id\", e.target.id);\n    e.persist();\n    const currentMovie = await services.getMovieDetails(+e.target.id);\n    this.setState({ currentMovie, currentMovieId: +e.target.id });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    const searchResult = await services.searchFilms(this.state.inputValue);\n    console.log(\"searchResult\", searchResult);\n    this.setState({ searchResult });\n  };\n\n  handleChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  render() {\n    console.log(\"this.state.cast==>\", this.state.cast);\n    return (\n      <div>\n        <Link to=\"/\">Home</Link>\n        <br></br>\n        <Link to=\"/movies\">Movies</Link>\n        <br></br>\n        <Suspense\n          fallback={\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n            />\n          }\n        >\n          <Switch>\n            <Route\n              path=\"/\"\n              exact\n              render={() => (\n                <HomePage\n                  movies={this.state.movies}\n                  getMovieById={this.getMovieById}\n                  getDetails={this.getDetails}\n                />\n              )}\n            />\n            <Route\n              path=\"/movies/:movieId\"\n              render={() => (\n                <MovieDetailsPage\n                  currentMovie={this.state.currentMovie}\n                  getMovieCast={this.getMovieCast}\n                  getMovieReviews={this.getMovieReviews}\n                  cast={this.state.cast}\n                  reviews={this.state.reviews}\n                />\n              )}\n            />\n            <Route\n              path=\"/movies\"\n              render={() => (\n                <MoviesPage\n                  searchResult={this.state.searchResult}\n                  handleChange={this.handleChange}\n                  handleSubmit={this.handleSubmit}\n                  inputValue={this.state.inputValue}\n                  getDetails={this.getDetails}\n                />\n              )}\n            />\n\n            <Redirect to=\"/\" />\n          </Switch>\n        </Suspense>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./component/App\";\n// import { Route } from \"react-router-dom\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route component={App} />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}